(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{270:function(a,t,e){"use strict";e.r(t);var s=e(2),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"d3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#d3"}},[a._v("#")]),a._v(" D3")]),a._v(" "),e("h2",{attrs:{id:"选择集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#选择集"}},[a._v("#")]),a._v(" "),e("strong",[a._v("选择集")])]),a._v(" "),e("ul",[e("li",[a._v("``d3.select()`：是选择所有指定元素的第一个")]),a._v(" "),e("li",[e("code",[a._v("d3.selectAll()")]),a._v("：是选择指定元素的全部")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('var body = d3.select("body"); //选择文档中的body元素\nvar p1 = body.select("p");      //选择body中的第一个p元素\nvar p = body.selectAll("p");    //选择body中的所有p元素\nvar svg = body.select("svg");   //选择body中的svg元素\nvar rects = svg.selectAll("rect");  //选择svg中所有的svg元素\n')])])]),e("h2",{attrs:{id:"绑定数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#绑定数据"}},[a._v("#")]),a._v(" 绑定数据")]),a._v(" "),e("ul",[e("li",[a._v("``datum()`：绑定一个数据到选择集上")]),a._v(" "),e("li",[a._v("``data()`：绑定一个数组到选择集上，数组的各项值分别与选择集的各元素绑定")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('datum,选中的所有元素使用同一个值\nvar str = "China";\n\nvar body = d3.select("body");\nvar p = body.selectAll("p");\n\np.datum(str);\n\np.text(function(d, i){\n    return "第 "+ i + " 个元素绑定的数据是 " + d;\n});\n')])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("data\n遍历data中的值\np.data(dataset).text(d=>{\n    return d;\n})\n")])])]),e("h2",{attrs:{id:"插入元素"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插入元素"}},[a._v("#")]),a._v(" 插入元素")]),a._v(" "),e("ul",[e("li",[e("code",[a._v("append()")]),a._v("：在选择集末尾插入元素")]),a._v(" "),e("li",[e("code",[a._v("insert()")]),a._v("：在选择集前面插入元素")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('body.append("p")\n    .text("append p element");\n')])])]),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('在某一个元素之前插入\nbody.insert("p","#myid")\n  .text("insert p element");\n')])])]),e("h2",{attrs:{id:"删除元素"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除元素"}},[a._v("#")]),a._v(" 删除元素")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('删除选中的元素\nvar p = body.select("#myid");\np.remove();\n')])])]),e("h2",{attrs:{id:"线性比例尺"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#线性比例尺"}},[a._v("#")]),a._v(" 线性比例尺")]),a._v(" "),e("blockquote",[e("p",[e("code",[a._v("d3.scaleLinear()")]),a._v("返回一个线性比例尺，"),e("code",[a._v("domain()")]),a._v(" 和``range()`分别设定比例尺的定义域和值域。")]),a._v(" "),e("p",[a._v("为了解决数据比例显示问题。如果数据过小，不能直接设置width，需要借助线性比例尺")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("var dataset = [1.2, 2.3, 0.9, 1.5, 3.3];\nvar min = d3.min(dataset);\nvar max = d3.max(dataset);\n\nvar linear = d3\n  .scaleLinear()\n  .domain([min, max])\n  .range([0, 300]);\n\nlinear(0.9); //返回 0\nlinear(2.3); //返回 175\nlinear(3.3); //返回 300\n")])])]),e("h3",{attrs:{id:"demo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[a._v("#")]),a._v(" demo")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(' var width = 300; //画布的宽度\n var height = 200; //画布的高度\n\n  var svg = d3\n    .select(".svg2") //选择文档中的body元素\n    .append("svg") //添加一个svg元素\n    .style("width", width) //设定宽度\n    .style("height", height); //设定高度\n\n\n  var dataset = [2.5, 2.1, 1.7, 1.3, 0.9];\n\n  var linear = d3\n    .scaleLinear()\n    .domain([0, d3.max(dataset)])\n    .range([0, 250]);\n\n  var rectHeight = 25; //每个矩形所占的像素高度(包括空白)\n\n  svg\n    .selectAll("rect")\n    .data(dataset)\n    .enter()\n    .append("rect")\n    .attr("x", 20)\n    .attr("y", function(d, i) {\n      return i * rectHeight;\n    })\n    .attr("width", function(d) {\n      return linear(d); //在这里用比例尺\n    })\n    .attr("height", rectHeight - 2)\n    .attr("fill", "steelblue");\n')])])]),e("h2",{attrs:{id:"序数比例尺"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#序数比例尺"}},[a._v("#")]),a._v(" 序数比例尺")]),a._v(" "),e("blockquote",[e("p",[e("code",[a._v("d3.scaleOrdinal()")]),a._v(":有时候，定义域和值域不一定是连续的。例如，有两个数组")]),a._v(" "),e("p",[a._v("我们希望 0 对应颜色 red，1 对应 blue，依次类推。")]),a._v(" "),e("p",[a._v("但是，这些值都是离散的，线性比例尺不适合，需要用到序数比例尺。")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('var index = [0, 1, 2, 3, 4];\nvar color = ["red", "blue", "green", "yellow", "black"];\nvar ordinal = d3.scaleOrdinal()\n  .domain(index)\n  .range(color);\n  \nordinal(0); //返回 red\nordinal(2); //返回 green\nordinal(4); //返回 black\n')])])]),e("h1",{attrs:{id:"画布是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#画布是什么"}},[a._v("#")]),a._v(" 画布是什么")]),a._v(" "),e("h2",{attrs:{id:"svg"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#svg"}},[a._v("#")]),a._v(" SVG")]),a._v(" "),e("blockquote",[e("p",[a._v("SVG，指可缩放矢量图形（Scalable Vector Graphics），是用于描述二维矢量图形的一种图形格式，是由万维网联盟制定的开放标准。SVG 使用 XML 格式来定义图形，除了 IE8 之前的版本外，绝大部分浏览器都支持 SVG，可将 SVG 文本直接嵌入 HTML 中显示。")])]),a._v(" "),e("p",[a._v("SVG 有如下特点：")]),a._v(" "),e("ul",[e("li",[a._v("SVG 绘制的是矢量图，因此对图像进行放大不会失真。")]),a._v(" "),e("li",[a._v("基于 XML，可以为每个元素添加 JavaScript 事件处理器。")]),a._v(" "),e("li",[a._v("每个图形均视为对象，更改对象的属性，图形也会改变。")]),a._v(" "),e("li",[a._v("不适合游戏应用。")])]),a._v(" "),e("h2",{attrs:{id:"canvas"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#canvas"}},[a._v("#")]),a._v(" Canvas")]),a._v(" "),e("blockquote",[e("p",[a._v("Canvas 是通过 JavaScript 来绘制 2D 图形，是 HTML 5 中新增的元素。")])]),a._v(" "),e("p",[a._v("Canvas 有如下特点：")]),a._v(" "),e("ul",[e("li",[a._v("绘制的是位图，图像放大后会失真。")]),a._v(" "),e("li",[a._v("不支持事件处理器。")]),a._v(" "),e("li",[a._v("能够以 .png 或 .jpg 格式保存图像")]),a._v(" "),e("li",[a._v("适合游戏应用")])])])}),[],!1,null,null,null);t.default=n.exports}}]);